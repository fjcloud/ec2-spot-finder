#!/bin/bash
   set -e

   echo "---> Running custom assemble script"

   # Show current directory contents
   echo "---> Current directory contents:"
   ls -la

   # Execute the default S2I script
   /usr/libexec/s2i/assemble

   # Ensure the static directory is copied
   if [ -d ./static ]; then
     echo "---> Copying static files..."
     cp -Rf ./static /opt/app-root/src/static
     echo "---> Static files copied to /opt/app-root/src/static"
     ls -la /opt/app-root/src/static
   else
     echo "---> Warning: static directory not found in the source"
     echo "---> Contents of the current directory:"
     ls -la
   fi

   echo "---> Assemble script completed"
